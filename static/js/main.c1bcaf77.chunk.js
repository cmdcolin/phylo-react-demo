(this.webpackJsonptya=this.webpackJsonptya||[]).push([[0],{44:function(e,t,n){e.exports=n(54)},49:function(e,t,n){},53:function(e,t,n){},54:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(19),c=n.n(o),l=(n(49),n(4)),i=n.n(l),u=n(20),s=n(5),g=n(1),h=n.n(g),d=n(2);function f(e){return e.data.length+(e.children?d.d(e.children,f):0)}function p(e){var t=e.data,n=e.clickName,o=e.getConfig,c=void 0===o?function(){}:o,l=e.showBranchLength,i=Object(a.useRef)(),u=function(e){for(var t=[],n={},a=e.split(/\s*(;|\(|\)|,|:)\s*/),r=0;r<a.length;r++){var o=a[r],c={};switch(o){case"(":n.branchset=[c],t.push(n),n=c;break;case",":t[t.length-1].branchset.push(c),n=c;break;case")":n=t.pop();break;case":":break;default:var l=a[r-1];")"===l||"("===l||","===l?n.name=o:":"===l&&(n.length=parseFloat(o))}}return n}(t),s=window.innerWidth/2-240,g=function e(t){return t.branchset?t.branchset.map((function(t){return e(t)})).reduce((function(e,t){return e+t})):1}(u);return Object(a.useEffect)((function(){var e=d.b().size([20*g,s]).separation((function(e,t){return 1})),t=d.c(u,(function(e){return e.branchset})).sum((function(e){return e.branchset?0:1})).sort((function(e,t){return e.value-t.value||d.a(e.data.length,t.data.length)}));e(t),function e(t,n,a){t.radius=(n+=Math.max(t.data.length,0))*a,t.children&&t.children.forEach((function(t){e(t,n,a)}))}(t,t.data.length=0,s/f(t)),i.current.innerHTML="";var a=d.e(i.current);function r(e,t,n,a){return"M".concat(t," ").concat(e,"V").concat(n,"H").concat(a)}function o(e){return function(t){d.e(this).classed("label--active",e)}}a.append("g").attr("fill","none").attr("stroke","#000").selectAll("path").data(t.links()).join("path").attr("d",l?function(e){return r(e.source.x,e.source.radius,e.target.x,e.target.radius)}:function(e){return r(e.source.x,e.source.y,e.target.x,e.target.y)}),a.append("g").attr("fill","none").attr("stroke","#000").attr("stroke-opacity","0.2").selectAll("path").data(t.links().filter((function(e){return!e.target.children}))).enter().append("path").each((function(e){e.target.linkExtensionNode=this})).attr("d",l?function(e){return r(e.target.x,e.target.radius,e.target.x,e.target.y)}:function(e){return r(e.target.x,e.target.y,e.target.x,e.target.y)}),a.append("g").selectAll("text").data(t.leaves()).join("text").attr("x",(function(e){return e.y+5})).attr("y",(function(e){return e.x+4})).text((function(e){return(e.data.name||"").replace(/_/g," ")})).on("mouseover",o(!0)).on("mouseout",o(!1)).on("click",(function(e){n(e)})),function(e,t,n){var a={},r=[];e.leaves().forEach((function(e){r.push({name:e.data.name,x:e.x,y:e.y})})),a.leafloc=r,a.treeheight=t,n(a)}(t,20*g,c)}),[t,n,c,l,s,g,u]),r.a.createElement("svg",{width:s+210,height:20*g},r.a.createElement("style",{dangerouslySetInnerHTML:{__html:"\n            .link--active {\n                stroke: #000 !important;\n                stroke-width: 1.5px;\n            }\n            .label--active {\n                font-weight: bold;\n            }"}}),r.a.createElement("g",{ref:i}))}p.propTypes={data:h.a.string,clickName:h.a.func,getChildLoc:h.a.func,ChangebranchLengthID:h.a.string},p.defaultProps={data:"",clickName:null,getChildLoc:null,ChangebranchLengthID:"notpossible"};n(11),n(21);var m={clustal:{G:"orange",P:"orange",S:"orange",T:"orange",H:"red",K:"red",R:"red",F:"blue",W:"blue",Y:"blue",I:"green",L:"green",M:"green",V:"green"},lesk:{G:"orange",A:"orange",S:"orange",T:"orange",C:"green",V:"green",I:"green",L:"green",P:"green",F:"green",Y:"green",M:"green",W:"green",N:"magenta",Q:"magenta",H:"magenta",D:"red",E:"red",K:"blue",R:"blue"},maeditor:{A:"lightgreen",G:"lightgreen",C:"green",D:"darkgreen",E:"darkgreen",N:"darkgreen",Q:"darkgreen",I:"blue",L:"blue",M:"blue",V:"blue",F:"#C8A2C8",W:"#C8A2C8",Y:"#C8A2C8",H:"darkblue",K:"orange",R:"orange",P:"pink",S:"red",T:"red"},cinema:{H:"blue",K:"blue",R:"blue",D:"red",E:"red",S:"green",T:"green",N:"green",Q:"green",A:"white",V:"white",L:"white",I:"white",M:"white",F:"magenta",W:"magenta",Y:"magenta",P:"brown",G:"brown",C:"yellow",B:"gray",Z:"gray",X:"gray","-":"white",".":"white"}};function b(e){var t=e.dataToShow,n=e.data,o=e.heigtoftree,c=e.bgColor;return Object(a.useEffect)((function(){var e=function(e){var t=new Map;return e.split("\n").forEach((function(e){if("#"!==e[0]){var n=e.split(" ");t.get(n[0])?t.set(n[0],t.get(n[0])+n.slice(-1)[0]):t.set(n[0],n.slice(-1)[0])}})),t}(n);d.f("#metadata > *").remove();var a=d.e("#metadata").attr("width",1e3).attr("height",o).attr("font-family","sans-serif").attr("font-size",10);t.forEach((function(t){for(var n=t.x,r=e.get(t.name)?e.get(t.name):"",o=0;o<r.length;o++)c?(a.append("rect").attr("x",10+16*o).attr("y",n-10).attr("width",16).attr("height",20).style("fill",m.maeditor[r[o]]),a.append("text").style("font-family","monospace").attr("x",10+16*o+8-3).attr("y",n+4).style("fill","white").text(r[o])):a.append("text").style("font-family","monospace").attr("x",10+16*o+8-3).attr("y",n+4).style("fill",m.maeditor[r[o]]).text(r[o])}))}),[t,o,n,c]),r.a.createElement("svg",{id:"metadata"})}b.propTypes={data:h.a.string,dataToShow:h.a.array,heigtoftree:h.a.number,bgColor:h.a.bool},b.defaultProps={data:"",dataToShow:null,heigtoftree:null,bgColor:!1};n(53);var v=function(){var e=Object(a.useState)(),t=Object(s.a)(e,2),n=t[0],o=t[1],c=Object(a.useState)(),l=Object(s.a)(c,2),g=l[0],h=l[1],d=Object(a.useState)(),f=Object(s.a)(d,2),m=f[0],b=f[1],v=Object(a.useState)(!0),y=Object(s.a)(v,2),x=y[0],w=y[1],k=Object(a.useState)("ENSGT00390000003602"),E=Object(s.a)(k,2),C=E[0],S=E[1];return r.a.createElement("div",{className:"App"},r.a.createElement("form",{onSubmit:function(){var e=Object(u.a)(i.a.mark((function e(t){var n,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),b(!0),e.next=4,fetch("https://rest.ensembl.org/genetree/id/".concat(C,"?content-type=text/x-nh;nh_format=simple"));case 4:if((n=e.sent).ok){e.next=9;break}return h(n.statusText),b(!1),e.abrupt("return");case 9:return e.next=11,n.text();case 11:a=e.sent,o(a),console.log({text:a}),h(void 0),b(!1);case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},r.a.createElement("label",null,"Enter Ensembl gene ID",r.a.createElement("input",{id:"geneid",value:C,onChange:function(e){return S(e.target.value)},type:"text"})),r.a.createElement("label",null,"Show branch length",r.a.createElement("input",{type:"checkbox",checked:x,onChange:function(e){w(e.target.checked)}})),r.a.createElement("button",{type:"submit"},"Submit")),m?r.a.createElement("p",null,"Loading..."):null,g?r.a.createElement("p",{style:{color:"red"}},g):null,n?r.a.createElement(p,{data:n,showBranchLength:x}):null)};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(v,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[44,1,2]]]);
//# sourceMappingURL=main.c1bcaf77.chunk.js.map